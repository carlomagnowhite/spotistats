
<app-loading *ngIf="loading"></app-loading>

<div class="sticky-container">
  <div class="card mb-2">
    <h5 class="card-header">Reproductor</h5>
    <div class="card-body">
      <iframe [src]="spotifyEmbedUrl" title="Spotify Embed: Recommendation Playlist" width="100%" height="25%"
      style="min-height: 160px;" frameborder="20"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    </div>
  </div>
</div>


<div class="card mb-4">
  <h5 class="card-header">Ãšltimos tracks escuchados</h5>
  <div class="card-body">
    <div class="container-fluid p-3">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div *ngFor="let track of recentTracks; let i = index" class="carousel-item mb-4"
            [ngClass]="{'active': i === 0}">
            <a (click)="loadSong(track.track.id)" style="cursor: pointer;">
              <img [src]="track.track.album.images[1].url" class="d-block w-100" alt="...">
            </a>
            <div class="carousel-caption d-none d-md-block">
              <h1>{{track.track.name}}</h1>
              <p>{{track.track.artists[0].name}}</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="next carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
</div>
